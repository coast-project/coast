#-----------------------------------------------------------------------------------------------------
# Copyright (c) 2005, Peter Sommerlad and IFS Institute for Software at HSR Rapperswil, Switzerland
# All rights reserved.
#
# This library/application is free software; you can redistribute and/or modify it under the terms of
# the license that is included with this library/application in the file license.txt.
#-----------------------------------------------------------------------------------------------------

{
	/NullScript *

	/SingleScript1	"ding"
	/SingleScript2	"dong"

	/CollectorScript {

		# lookup in context
		# the key "aKey" should be present in context
		/aKey 	*

		# append a value
		"ValueToGet"

		# append a series of values (nesting is not really necessary)
		{
			"x"
			"y"
			"z"
		}
	}

	/DelegationScript {
		# call a mapper (renders on stream only)
		{ 	/UpperCaseMapper {
				/aKey *
			}
		}
		# call a mapper (renders on stream only)
		{ 	/UpperCaseMapper {
				"b"
			}
		}
		# (using anonymous slots, because mappers have same name)
	}

	/DysfunctionalScript {
		# key is not known in context or as mapper --> stop
		/unknownKey	*

		# the following will not be executed
		/UpperCaseMapper {
			"at the doctor"
		}

		"you must say"

		/aKey	*
	}

	/DistributorScript {
		"a"
		/b *
		/dummy {
			"c"
			/d *
		}
	}

	/AnyPlacerScript {
		{ 	/NameUsingOutputMapper {
				/Destination {
					/Store TmpStore
					/Slot "SomeSlot"
				}
			}
		}
		{ 	/NameUsingOutputMapper {
				/Destination {
					/Store TmpStore
					/Slot "SomeOtherSlot.Deep"
				}
			}
		}
	}

	/StreamPlacerScript {
		{ 	/NameUsingOutputMapper {
				/Destination {
					/Store TmpStore
					/Slot "SomeSlot"
				}
			}
		}
		{ 	/NameUsingOutputMapper {
				/Destination {
					/Store TmpStore
					/Slot EmptyStuff
				}
			}
		}
	}
}

#-----------------------------------------------------------------------------------------------------
# Copyright (c) 2005, Peter Sommerlad and IFS Institute for Software at HSR Rapperswil, Switzerland
# All rights reserved.
#
# This library/application is free software; you can redistribute and/or modify it under the terms of
# the license that is included with this library/application in the file license.txt.
#-----------------------------------------------------------------------------------------------------

{

	/DLL {}
	/Modules {
		PagesModule
		RolesModule
		RenderersModule
	}
	/Pages {
		/Page	{ TestPage }
	}
	/Roles {
		/Role	{ TestRole }
	}
	/Renderers {
		/ContextLookupRenderer { Lookup }
	}

######## Test specific section ########

	/EnvForAllCases {
	}

	/RunOnly {
	}

	/TestCases {
		/CallRendererCallsSimpleRenderer {
			/Env {
				/calledRenderer	123
			}
			/Renderer {
				{ /CallRenderer {
					/Renderer	calledRenderer
				} }
			}
			/Expected	123
		}

		/CallRendererCallsHoleRenderSpec {
			/Env {
				/equalMsg	equal
				/unequalMsg	unequal
				/calledRenderer	{
					{ /StringCompareRenderer {
						/String1	myNameIsKuede
						/String2	myNameIsKuede
						/Equal		{ /Lookup equalMsg }
						/Unequal	{ /Lookup unequalMsg }
					} }
				}
			}
			/Renderer {
				{ /CallRenderer {
					/Renderer	calledRenderer
				} }
			}
			/Expected	equal
		}

		/CallRendererOverwritesContext {
			/Env {
				/equalMsg	equal
				/unequalMsg	unequal
				/calledRenderer	{
					{ /StringCompareRenderer {
						/String1	myNameIsKuede
						/String2	myNameIsKuede
						/Equal		{ /Lookup equalMsg }
						/Unequal	{ /Lookup unequalMsg }
					} }
				}
			}
			/Renderer {
				{ /CallRenderer {
					/Renderer	calledRenderer
					/Parameters	{ /equalMsg	"Standard Msg overwritten" }
				} }
			}
			/Expected	"Standard Msg overwritten"
		}

	}
}

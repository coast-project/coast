import os
import SConsider
from stat import *

Import('*')

buildSettings = {
    packagename : {
        'targetType'       : 'LibraryShared',
        'sourceFiles'      : SConsider.listFiles(['*.cpp']),
        'includeSubdir'    : '',
        'appendUnique'     : { 'CPPDEFINES' : ['PERFTESTTEST_IMPL'] },
        'linkDependencies' : [
            'testfwWDBase',
            'CoastPerfTest',
        ],
    },
    'Runner' : {
        'targetType'       : 'AppTest',
        'requires' : [
            packagename + '.' + packagename,
            'CoastStdDataAccess',
            'CoastActions',
            'CoastRenderers',
        ],
        'usedTarget'       : 'coastd.coastd',
        'copyFiles' : [
            (SConsider.findFiles(['.'],['.txt', '.html', '.any']), S_IRUSR|S_IRGRP|S_IROTH),
        ],
    },
}

SConsider.createTargets(packagename, buildSettings)
